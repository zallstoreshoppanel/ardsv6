<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ARDS V8 â€” Login</title>

  <!-- Font + Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <style>
    :root{
      --bg:#0b0014;
      --card1:#240033;
      --card2:#170024;
      --accent:#a100ff;
      --neon:#ff00ff;
      --muted:#b8a5c7;
      --glass: rgba(255,255,255,0.05);
    }
    body{
      margin:0;
      font-family:'Orbitron',sans-serif;
      background:linear-gradient(180deg,#06000a,var(--bg));
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:center;
      height:100vh;
    }
    .login-box{
      width:100%;
      max-width:380px;
      background:linear-gradient(145deg,var(--card1),var(--card2));
      border-radius:14px;
      padding:28px;
      box-shadow:0 18px 40px rgba(0,0,0,0.6);
      text-align:center;
    }
    .logo{
      font-size:34px;
      color:var(--neon);
      margin-bottom:18px;
    }
    h1{
      margin:0 0 20px;
      font-size:22px;
      color:var(--neon);
    }
    .input{
      width:100%;
      padding:12px;
      border:none;
      border-radius:8px;
      margin-bottom:14px;
      background:var(--glass);
      color:#fff;
      font-size:14px;
      outline:none;
    }
    .btn{
      width:100%;
      padding:12px;
      border:none;
      border-radius:8px;
      background:var(--accent);
      color:#fff;
      font-weight:700;
      cursor:pointer;
      font-size:15px;
    }
    .btn:disabled{opacity:.6;cursor:not-allowed}
    footer{margin-top:16px;font-size:12px;color:var(--muted)}
    footer a{color:var(--neon);text-decoration:none}

    /* popup */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,0.46);display:none;align-items:center;justify-content:center;z-index:999}
    .overlay.show{display:flex}
    .popup{background:linear-gradient(145deg,var(--card1),var(--card2));padding:18px;border-radius:12px;max-width:360px;text-align:center}
    .popup h4{margin:0;color:var(--neon)}
    .popup p{margin:8px 0 0;color:var(--muted)}
    .popup .btn{margin-top:12px;width:auto;padding:8px 18px}
  </style>
</head>
<body>

  <div class="login-box">
    <div class="logo"><i class="fas fa-shield-alt"></i></div>
    <h1>ARDS V8 Login</h1>

    <input id="loginEmail" class="input" type="email" placeholder="Email" required>
    <input id="loginPass" class="input" type="password" placeholder="Password" required>

    <button id="loginBtn" class="btn">Login</button>

    <footer>Dev: <a href="#">@ARDSDEV</a></footer>
  </div>

  <!-- popup -->
  <div class="overlay" id="overlay">
    <div class="popup">
      <h4 id="popupTitle">Info</h4>
      <p id="popupMsg">...</p>
      <button class="btn" id="popupOk">OK</button>
    </div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyArE6B5jQCSECpOusTxrOYmUsjeFEa17YI",
      authDomain: "bugwa-1fc47.firebaseapp.com",
      projectId: "bugwa-1fc47",
      storageBucket: "bugwa-1fc47.firebasestorage.app",
      messagingSenderId: "309575475227",
      appId: "1:309575475227:web:c2a7a9123afb30023698be"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const overlay=document.getElementById('overlay');
    const popupTitle=document.getElementById('popupTitle');
    const popupMsg=document.getElementById('popupMsg');
    const popupOk=document.getElementById('popupOk');
    function showPopup(title,msg,cb){
      popupTitle.textContent=title;
      popupMsg.textContent=msg;
      overlay.classList.add('show');
      popupOk.onclick=()=>{overlay.classList.remove('show');if(cb)cb();};
    }

    const loginBtn=document.getElementById('loginBtn');
    loginBtn.onclick=async ()=>{
      const email=document.getElementById('loginEmail').value.trim();
      const pass=document.getElementById('loginPass').value;
      if(!email||!pass){
        showPopup('Perhatian','Isi email dan password.');
        return;
      }
      try{
        loginBtn.disabled=true;
        await signInWithEmailAndPassword(auth,email,pass);
        showPopup('Sukses','Login berhasil, mengarahkan ke dashboard...',()=>{
          window.location.href='./loginsukses.html';
        });
      }catch(err){
        showPopup('Error',err.message||'Login gagal');
      }finally{
        loginBtn.disabled=false;
      }
    };
  </script>
</body>
</html>
